{"ast":null,"code":"var Mexp = require('./lexer.js');\nMexp.prototype.toPostfix = function () {\n  'use strict';\n\n  var post = [],\n    elem,\n    popped,\n    prep,\n    pre,\n    ele;\n  var stack = [{\n    value: \"(\",\n    type: 4,\n    pre: 0\n  }];\n  var arr = this.value;\n  for (var i = 1; i < arr.length; i++) {\n    if (arr[i].type === 1 || arr[i].type === 3 || arr[i].type === 13) {\n      //if token is number,constant,or n(which is also a special constant in our case)\n      if (arr[i].type === 1) arr[i].value = Number(arr[i].value);\n      post.push(arr[i]);\n    } else if (arr[i].type === 4) {\n      stack.push(arr[i]);\n    } else if (arr[i].type === 5) {\n      while ((popped = stack.pop()).type !== 4) {\n        post.push(popped);\n      }\n    } else if (arr[i].type === 11) {\n      while ((popped = stack.pop()).type !== 4) {\n        post.push(popped);\n      }\n      stack.push(popped);\n    } else {\n      elem = arr[i];\n      pre = elem.pre;\n      ele = stack[stack.length - 1];\n      prep = ele.pre;\n      var flag = ele.value == 'Math.pow' && elem.value == 'Math.pow';\n      if (pre > prep) stack.push(elem);else {\n        while (prep >= pre && !flag || flag && pre < prep) {\n          popped = stack.pop();\n          ele = stack[stack.length - 1];\n          post.push(popped);\n          prep = ele.pre;\n          flag = elem.value == 'Math.pow' && ele.value == 'Math.pow';\n        }\n        stack.push(elem);\n      }\n    }\n  }\n  return new Mexp(post);\n};\nmodule.exports = Mexp;","map":{"version":3,"names":["Mexp","require","prototype","toPostfix","post","elem","popped","prep","pre","ele","stack","value","type","arr","i","length","Number","push","pop","flag","module","exports"],"sources":["C:/Users/Yolanda Ayuso/Desktop/frontDespliegueDef/DQPA_v1.2Front/dqpa/node_modules/math-expression-evaluator/src/postfix.js"],"sourcesContent":["\r\nvar Mexp = require('./lexer.js');\r\n\r\nMexp.prototype.toPostfix = function () {\r\n\t'use strict';\r\n\tvar post = [], elem, popped, prep, pre, ele;\r\n\tvar stack = [{ value: \"(\", type: 4, pre: 0 }];\r\n\tvar arr = this.value;\r\n\tfor (var i = 1; i < arr.length; i++) {\r\n\t\tif (arr[i].type === 1 || arr[i].type === 3 || arr[i].type === 13) {\t//if token is number,constant,or n(which is also a special constant in our case)\r\n\t\t\tif (arr[i].type === 1)\r\n\t\t\t\tarr[i].value = Number(arr[i].value);\r\n\t\t\tpost.push(arr[i]);\r\n\t\t}\r\n\t\telse if (arr[i].type === 4) {\r\n\t\t\tstack.push(arr[i]);\r\n\t\t}\r\n\t\telse if (arr[i].type === 5) {\r\n\t\t\twhile ((popped = stack.pop()).type !== 4) {\r\n\t\t\t\tpost.push(popped);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (arr[i].type === 11) {\r\n\t\t\twhile ((popped = stack.pop()).type !== 4) {\r\n\t\t\t\tpost.push(popped);\r\n\t\t\t}\r\n\t\t\tstack.push(popped);\r\n\t\t}\r\n\t\telse {\r\n\t\t\telem = arr[i];\r\n\t\t\tpre = elem.pre;\r\n\t\t\tele = stack[stack.length - 1];\r\n\t\t\tprep = ele.pre;\r\n\t\t\tvar flag = ele.value == 'Math.pow' && elem.value == 'Math.pow';\r\n\t\t\tif (pre > prep) stack.push(elem);\r\n\t\t\telse {\r\n\t\t\t\twhile (prep >= pre && !flag || flag && pre < prep) {\r\n\t\t\t\t\tpopped = stack.pop();\r\n\t\t\t\t\tele = stack[stack.length - 1];\r\n\t\t\t\t\tpost.push(popped);\r\n\t\t\t\t\tprep = ele.pre;\r\n\t\t\t\t\tflag = elem.value == 'Math.pow' && ele.value == 'Math.pow';\r\n\t\t\t\t}\r\n\t\t\t\tstack.push(elem);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn new Mexp(post);\r\n};\r\nmodule.exports = Mexp;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}