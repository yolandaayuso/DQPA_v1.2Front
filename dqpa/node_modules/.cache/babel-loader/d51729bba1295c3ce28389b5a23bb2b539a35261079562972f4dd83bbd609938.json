{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Grid,Card,CardContent,Typography,Table,TableBody,TableCell,TableContainer,TableHead,TableRow,Paper,Button,Modal,Box,TextField,MenuItem,Select,InputLabel,FormControl,Breadcrumbs,Link}from\"@mui/material\";import{Delete,Edit,Visibility,Add}from\"@mui/icons-material\";import CircularProgress from\"@mui/material/CircularProgress\";import{useNavigate}from\"react-router-dom\";// Generador de contraseñas robustas\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const generatePassword=()=>{const chars=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()_+-=[]{}|;:,.<>?\";return Array.from({length:12},()=>chars.charAt(Math.floor(Math.random()*chars.length))).join(\"\");};// Estilo del modal\nconst modalStyle={position:\"absolute\",top:\"50%\",left:\"50%\",transform:\"translate(-50%, -50%)\",width:500,bgcolor:\"background.paper\",boxShadow:24,p:4,borderRadius:\"10px\",overflowY:\"auto\",maxHeight:\"80vh\"};const AdminUsers=()=>{const[users,setUsers]=useState([]);const[filteredUsers,setFilteredUsers]=useState([]);const[loading,setLoading]=useState(true);const[roleFilter,setRoleFilter]=useState(\"\");const[openModal,setOpenModal]=useState(false);const[modalMode,setModalMode]=useState(\"\");// \"view\" | \"edit\" | \"add\"\nconst[formData,setFormData]=useState({email:\"\",emailSoporte:\"\",empresa:\"\",ubicacion:\"\",sector:\"\",numEmpleados:\"\",password:generatePassword()});const navigate=useNavigate();// Cargar usuarios\nuseEffect(()=>{fetchUsers();},[]);const fetchUsers=async()=>{setLoading(true);try{const response=await fetch(\"http://localhost:9092/api/admin/users\");const data=await response.json();const sortedData=data.sort((a,b)=>new Date(b.createdAt)-new Date(a.createdAt));setUsers(sortedData);setFilteredUsers(sortedData);}catch(error){console.error(\"Error al obtener usuarios:\",error);}finally{setLoading(false);}};const handleOpenModal=function(mode){let user=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};setModalMode(mode);setFormData(mode===\"add\"?{email:\"\",emailSoporte:\"\",empresa:\"\",ubicacion:\"\",sector:\"\",numEmpleados:\"\",password:generatePassword()}:{...user});setOpenModal(true);};const handleCloseModal=()=>{setOpenModal(false);setFormData({});};const handleSave=async()=>{const payload={...formData};try{if(modalMode===\"add\"){await fetch(\"http://localhost:9092/api/admin/users/premiumpro\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(payload)});}else if(modalMode===\"edit\"){await fetch(`http://localhost:9092/api/admin/users/update/${formData._id}`,{method:\"PUT\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(payload)});}fetchUsers();handleCloseModal();}catch(error){console.error(`Error al ${modalMode===\"add\"?\"crear\":\"actualizar\"} usuario:`,error);}};const handleDeleteUser=async id=>{if(window.confirm(\"¿Estás seguro de eliminar este usuario?\")){try{await fetch(`http://localhost:9092/api/admin/users/delete/${id}`,{method:\"DELETE\"});fetchUsers();}catch(error){console.error(\"Error al eliminar usuario:\",error);}}};const handleFilterChange=event=>{const value=event.target.value;setRoleFilter(value);if(value){setFilteredUsers(users.filter(user=>user.role===value));}else{setFilteredUsers(users);}};if(loading){return/*#__PURE__*/_jsx(Box,{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",height:\"100vh\",children:/*#__PURE__*/_jsx(CircularProgress,{})});}return/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"6rem 2rem 2rem\",minHeight:\"100vh\"},children:[/*#__PURE__*/_jsxs(Breadcrumbs,{\"aria-label\":\"breadcrumb\",sx:{mb:2},children:[/*#__PURE__*/_jsx(Link,{underline:\"hover\",color:\"inherit\",onClick:()=>navigate(\"/admin-dashboard\"),style:{cursor:\"pointer\"},children:\"Panel de Administraci\\xF3n\"}),/*#__PURE__*/_jsx(Typography,{color:\"text.primary\",children:\"Gesti\\xF3n de Usuarios\"})]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,alignItems:\"center\",children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsxs(Typography,{variant:\"h5\",children:[\"Total de Usuarios: \",users.length]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Filtrar por Rol\"}),/*#__PURE__*/_jsxs(Select,{value:roleFilter,label:\"Filtrar por Rol\",onChange:handleFilterChange,children:[/*#__PURE__*/_jsx(MenuItem,{value:\"\",children:\"Todos\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"ROLE_FREEMIUM\",children:\"Freemium\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"ROLE_PREMIUM\",children:\"Premium\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"ROLE_PREMIUMPRO\",children:\"Premium Pro\"})]})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",startIcon:/*#__PURE__*/_jsx(Add,{}),onClick:()=>handleOpenModal(\"add\"),children:\"A\\xF1adir Nuevo Usuario\"})})]}),/*#__PURE__*/_jsx(TableContainer,{component:Paper,style:{marginTop:\"2rem\"},children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Email\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Rol\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Acciones\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:filteredUsers.map(user=>/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:user.email}),/*#__PURE__*/_jsx(TableCell,{children:user.role}),/*#__PURE__*/_jsxs(TableCell,{children:[/*#__PURE__*/_jsx(Button,{onClick:()=>handleOpenModal(\"view\",user),children:/*#__PURE__*/_jsx(Visibility,{sx:{color:\"blue\"}})}),/*#__PURE__*/_jsx(Button,{onClick:()=>handleOpenModal(\"edit\",user),children:/*#__PURE__*/_jsx(Edit,{sx:{color:\"orange\"}})}),/*#__PURE__*/_jsx(Button,{onClick:()=>handleDeleteUser(user._id),children:/*#__PURE__*/_jsx(Delete,{sx:{color:\"red\"}})})]})]},user._id))})]})}),/*#__PURE__*/_jsx(Modal,{open:openModal,onClose:handleCloseModal,children:/*#__PURE__*/_jsxs(Box,{sx:modalStyle,children:[/*#__PURE__*/_jsxs(Box,{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:modalMode===\"add\"?\"Añadir Nuevo Usuario\":modalMode===\"edit\"?\"Editar Usuario\":\"Detalles del Usuario\"}),/*#__PURE__*/_jsx(Button,{onClick:handleCloseModal,sx:{color:\"black\",fontWeight:\"bold\"},children:\"\\u2716\"})]}),Object.entries(formData).filter(_ref=>{let[key]=_ref;return key!==\"_id\"&&key!==\"__v\";}).map(_ref2=>{let[key,value]=_ref2;return/*#__PURE__*/_jsx(TextField,{fullWidth:true,margin:\"normal\",label:key.charAt(0).toUpperCase()+key.slice(1),value:value||\"\",disabled:modalMode===\"view\",onChange:e=>setFormData({...formData,[key]:e.target.value})},key);}),modalMode!==\"view\"&&/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",fullWidth:true,onClick:handleSave,sx:{mt:2},children:\"Guardar\"})]})})]});};export default AdminUsers;","map":{"version":3,"names":["React","useEffect","useState","Grid","Card","CardContent","Typography","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Button","Modal","Box","TextField","MenuItem","Select","InputLabel","FormControl","Breadcrumbs","Link","Delete","Edit","Visibility","Add","CircularProgress","useNavigate","jsx","_jsx","jsxs","_jsxs","generatePassword","chars","Array","from","length","charAt","Math","floor","random","join","modalStyle","position","top","left","transform","width","bgcolor","boxShadow","p","borderRadius","overflowY","maxHeight","AdminUsers","users","setUsers","filteredUsers","setFilteredUsers","loading","setLoading","roleFilter","setRoleFilter","openModal","setOpenModal","modalMode","setModalMode","formData","setFormData","email","emailSoporte","empresa","ubicacion","sector","numEmpleados","password","navigate","fetchUsers","response","fetch","data","json","sortedData","sort","a","b","Date","createdAt","error","console","handleOpenModal","mode","user","arguments","undefined","handleCloseModal","handleSave","payload","method","headers","body","JSON","stringify","_id","handleDeleteUser","id","window","confirm","handleFilterChange","event","value","target","filter","role","display","justifyContent","alignItems","height","children","style","padding","minHeight","sx","mb","underline","color","onClick","cursor","container","spacing","item","xs","md","variant","fullWidth","label","onChange","startIcon","component","marginTop","map","open","onClose","fontWeight","Object","entries","_ref","key","_ref2","margin","toUpperCase","slice","disabled","e","mt"],"sources":["C:/Users/Yolanda Ayuso/Desktop/frontDespliegueDef/DQPA_v1.2Front/dqpa/src/pages/AdminUsers.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Grid,\r\n  Card,\r\n  CardContent,\r\n  Typography,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Paper,\r\n  Button,\r\n  Modal,\r\n  Box,\r\n  TextField,\r\n  MenuItem,\r\n  Select,\r\n  InputLabel,\r\n  FormControl,\r\n  Breadcrumbs,\r\n  Link,\r\n} from \"@mui/material\";\r\nimport { Delete, Edit, Visibility, Add } from \"@mui/icons-material\";\r\nimport CircularProgress from \"@mui/material/CircularProgress\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n// Generador de contraseñas robustas\r\nconst generatePassword = () => {\r\n  const chars =\r\n    \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()_+-=[]{}|;:,.<>?\";\r\n  return Array.from({ length: 12 }, () =>\r\n    chars.charAt(Math.floor(Math.random() * chars.length))\r\n  ).join(\"\");\r\n};\r\n\r\n// Estilo del modal\r\nconst modalStyle = {\r\n  position: \"absolute\",\r\n  top: \"50%\",\r\n  left: \"50%\",\r\n  transform: \"translate(-50%, -50%)\",\r\n  width: 500,\r\n  bgcolor: \"background.paper\",\r\n  boxShadow: 24,\r\n  p: 4,\r\n  borderRadius: \"10px\",\r\n  overflowY: \"auto\",\r\n  maxHeight: \"80vh\",\r\n};\r\n\r\nconst AdminUsers = () => {\r\n  const [users, setUsers] = useState([]);\r\n  const [filteredUsers, setFilteredUsers] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [roleFilter, setRoleFilter] = useState(\"\");\r\n\r\n  const [openModal, setOpenModal] = useState(false);\r\n  const [modalMode, setModalMode] = useState(\"\"); // \"view\" | \"edit\" | \"add\"\r\n  const [formData, setFormData] = useState({\r\n    email: \"\",\r\n    emailSoporte: \"\",\r\n    empresa: \"\",\r\n    ubicacion: \"\",\r\n    sector: \"\",\r\n    numEmpleados: \"\",\r\n    password: generatePassword(),\r\n  });\r\n\r\n  const navigate = useNavigate();\r\n\r\n  // Cargar usuarios\r\n  useEffect(() => {\r\n    fetchUsers();\r\n  }, []);\r\n\r\n  const fetchUsers = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await fetch(\"http://localhost:9092/api/admin/users\");\r\n      const data = await response.json();\r\n      const sortedData = data.sort(\r\n        (a, b) => new Date(b.createdAt) - new Date(a.createdAt)\r\n      );\r\n      setUsers(sortedData);\r\n      setFilteredUsers(sortedData);\r\n    } catch (error) {\r\n      console.error(\"Error al obtener usuarios:\", error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleOpenModal = (mode, user = {}) => {\r\n    setModalMode(mode);\r\n    setFormData(\r\n      mode === \"add\"\r\n        ? {\r\n            email: \"\",\r\n            emailSoporte: \"\",\r\n            empresa: \"\",\r\n            ubicacion: \"\",\r\n            sector: \"\",\r\n            numEmpleados: \"\",\r\n            password: generatePassword(),\r\n          }\r\n        : { ...user }\r\n    );\r\n    setOpenModal(true);\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setOpenModal(false);\r\n    setFormData({});\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    const payload = { ...formData };\r\n\r\n    try {\r\n      if (modalMode === \"add\") {\r\n        await fetch(\"http://localhost:9092/api/admin/users/premiumpro\", {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify(payload),\r\n        });\r\n      } else if (modalMode === \"edit\") {\r\n        await fetch(\r\n          `http://localhost:9092/api/admin/users/update/${formData._id}`,\r\n          {\r\n            method: \"PUT\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify(payload),\r\n          }\r\n        );\r\n      }\r\n      fetchUsers();\r\n      handleCloseModal();\r\n    } catch (error) {\r\n      console.error(\r\n        `Error al ${modalMode === \"add\" ? \"crear\" : \"actualizar\"} usuario:`,\r\n        error\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleDeleteUser = async (id) => {\r\n    if (window.confirm(\"¿Estás seguro de eliminar este usuario?\")) {\r\n      try {\r\n        await fetch(`http://localhost:9092/api/admin/users/delete/${id}`, {\r\n          method: \"DELETE\",\r\n        });\r\n        fetchUsers();\r\n      } catch (error) {\r\n        console.error(\"Error al eliminar usuario:\", error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleFilterChange = (event) => {\r\n    const value = event.target.value;\r\n    setRoleFilter(value);\r\n    if (value) {\r\n      setFilteredUsers(users.filter((user) => user.role === value));\r\n    } else {\r\n      setFilteredUsers(users);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"100vh\">\r\n        <CircularProgress />\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={{ padding: \"6rem 2rem 2rem\", minHeight: \"100vh\" }}>\r\n      {/* Breadcrumb */}\r\n      <Breadcrumbs aria-label=\"breadcrumb\" sx={{ mb: 2 }}>\r\n        <Link\r\n          underline=\"hover\"\r\n          color=\"inherit\"\r\n          onClick={() => navigate(\"/admin-dashboard\")}\r\n          style={{ cursor: \"pointer\" }}\r\n        >\r\n          Panel de Administración\r\n        </Link>\r\n        <Typography color=\"text.primary\">Gestión de Usuarios</Typography>\r\n      </Breadcrumbs>\r\n\r\n      {/* Encabezado */}\r\n      <Grid container spacing={3} alignItems=\"center\">\r\n        <Grid item xs={12} md={4}>\r\n          <Typography variant=\"h5\">Total de Usuarios: {users.length}</Typography>\r\n        </Grid>\r\n        <Grid item xs={12} md={4}>\r\n          <FormControl fullWidth>\r\n            <InputLabel>Filtrar por Rol</InputLabel>\r\n            <Select value={roleFilter} label=\"Filtrar por Rol\" onChange={handleFilterChange}>\r\n              <MenuItem value=\"\">Todos</MenuItem>\r\n              <MenuItem value=\"ROLE_FREEMIUM\">Freemium</MenuItem>\r\n              <MenuItem value=\"ROLE_PREMIUM\">Premium</MenuItem>\r\n              <MenuItem value=\"ROLE_PREMIUMPRO\">Premium Pro</MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n        </Grid>\r\n        <Grid item xs={12} md={4}>\r\n          <Button\r\n            variant=\"contained\"\r\n            startIcon={<Add />}\r\n            onClick={() => handleOpenModal(\"add\")}\r\n          >\r\n            Añadir Nuevo Usuario\r\n          </Button>\r\n        </Grid>\r\n      </Grid>\r\n\r\n      {/* Tabla */}\r\n      <TableContainer component={Paper} style={{ marginTop: \"2rem\" }}>\r\n        <Table>\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Email</TableCell>\r\n              <TableCell>Rol</TableCell>\r\n              <TableCell>Acciones</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {filteredUsers.map((user) => (\r\n              <TableRow key={user._id}>\r\n                <TableCell>{user.email}</TableCell>\r\n                <TableCell>{user.role}</TableCell>\r\n                <TableCell>\r\n                  <Button onClick={() => handleOpenModal(\"view\", user)}>\r\n                    <Visibility sx={{ color: \"blue\" }} />\r\n                  </Button>\r\n                  <Button onClick={() => handleOpenModal(\"edit\", user)}>\r\n                    <Edit sx={{ color: \"orange\" }} />\r\n                  </Button>\r\n                  <Button onClick={() => handleDeleteUser(user._id)}>\r\n                    <Delete sx={{ color: \"red\" }} />\r\n                  </Button>\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n\r\n      {/* Modal */}\r\n      <Modal open={openModal} onClose={handleCloseModal}>\r\n        <Box sx={modalStyle}>\r\n          <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\r\n            <Typography variant=\"h6\">\r\n              {modalMode === \"add\"\r\n                ? \"Añadir Nuevo Usuario\"\r\n                : modalMode === \"edit\"\r\n                ? \"Editar Usuario\"\r\n                : \"Detalles del Usuario\"}\r\n            </Typography>\r\n            <Button onClick={handleCloseModal} sx={{ color: \"black\", fontWeight: \"bold\" }}>\r\n              ✖\r\n            </Button>\r\n          </Box>\r\n          {Object.entries(formData)\r\n            .filter(([key]) => key !== \"_id\" && key !== \"__v\")\r\n            .map(([key, value]) => (\r\n              <TextField\r\n                key={key}\r\n                fullWidth\r\n                margin=\"normal\"\r\n                label={key.charAt(0).toUpperCase() + key.slice(1)}\r\n                value={value || \"\"}\r\n                disabled={modalMode === \"view\"}\r\n                onChange={(e) =>\r\n                  setFormData({ ...formData, [key]: e.target.value })\r\n                }\r\n              />\r\n            ))}\r\n          {modalMode !== \"view\" && (\r\n            <Button variant=\"contained\" color=\"primary\" fullWidth onClick={handleSave} sx={{ mt: 2 }}>\r\n              Guardar\r\n            </Button>\r\n          )}\r\n        </Box>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminUsers;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}